#version 300 es
#define A  gl_FragCoord.xy
precision highp float;out vec3 color;uniform z{vec2 B,C;float D,E;};void main(){vec2 F=A*C-1.;float G=length(F),H=sin(D),I=length(B),J=radians((H-B.x)*G*90.)-B.x,K=sin(J),L=cos(J),M=.5+.5*H;F=mix(F,F*cos(F)/(.5+.5*G),M+I);F*=mat2(L,K,-K,L)*(2.5+M+B.y)/E;float N=D+abs(F.x*F.y)+sin(cos(D)*dot(F,F)),O=sin(3.*N+3.*I),P=1./fwidth(O),Q=smoothstep(.5,2.,G);color=vec3((.5+.5*cos(N+I+vec3(0,2,4))-Q)*(smoothstep(1.,-1.,(abs(O)-.5)*P)+smoothstep(3.,-3.,abs(O)))+smoothstep(1.,-1.,(O+.95)*P+Q));}