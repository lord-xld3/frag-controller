(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var a=n.getElementsByTagName("script");if(a.length)for(var r=a.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=a[r--].src}if(!t)throw Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),(()=>{function e(e,t){const n=e.getContext("webgl2",t);if(!n)throw Error("WebGL2 is not supported");return[n,function(t=e.clientWidth,a=e.clientHeight,r=0,o=0){n.viewport(r,o,t,a)},e instanceof HTMLCanvasElement?function(t=window.devicePixelRatio,n=e.clientWidth,a=e.clientHeight){return[e.width=n*t,e.height=a*t]}:function(t=window.devicePixelRatio,n=e.width,a=e.height){return[e.width=n*t,e.height=a*t]}]}function t(e,t,n,a){const r=e.createBuffer(),o=()=>e.bindBuffer(n,r);return o(),e.bufferData(n,t,a),Object.assign(((t,a=0,r=0,o)=>e.bufferSubData(n,a,t,r,o)),{bindBuffer:o,buf:r})}function n(e,n){const a=function(e,t,n){function a(t,n){const a=e.createShader(t);if(e.shaderSource(a,n),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS))throw Error(e.getShaderInfoLog(a));return a}const r=e.createProgram(),o=a(e.VERTEX_SHADER,t),i=a(e.FRAGMENT_SHADER,n);if(e.attachShader(r,o),e.attachShader(r,i),e.linkProgram(r),!e.getProgramParameter(r,e.LINK_STATUS))throw Error(e.getProgramInfoLog(r));return r}(e,"#version 300 es\nin vec2 a;void main(){gl_Position=vec4(a,0,1);}",n),r=function(e){const t=e.createVertexArray();return Object.assign((()=>e.bindVertexArray(t)),{unbind:()=>e.bindVertexArray(null)})}(e);return e.useProgram(a),r(),t(e,48,34962,35044)(new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1])),function(e,t,n){for(let a=0;a<n.length;a++){const{name:r,size:o,type:i,normalized:s,stride:c,offset:l,divisor:u}=n[a],m=e.getAttribLocation(t,r);-1!==m&&(e.enableVertexAttribArray(m),e.vertexAttribPointer(m,o,i||e.FLOAT,s||!1,c||0,l||0),u&&e.vertexAttribDivisor(m,u))}}(e,a,[{name:"a",size:2}]),Object.assign((()=>{e.useProgram(a),r(),e.drawArrays(4,0,6)}),{program:a})}function a(e,t,n){const a=e.getUniformBlockIndex(t,n);return Object.assign(((n=0)=>{e.uniformBlockBinding(t,a,n)}),{size:e.getActiveUniformBlockParameter(t,a,e.UNIFORM_BLOCK_DATA_SIZE)})}function r(e,n){const a=t(e,n,e.UNIFORM_BUFFER,e.STATIC_DRAW);return Object.assign(a,{bufferIndex:(t=0)=>{e.bindBufferBase(e.UNIFORM_BUFFER,t,a.buf)}})}function o(e,t,n){let a=0,r=0,o=0,i=Math.floor(6*e),s=6*e-i,c=n*(1-t),l=n*(1-s*t),u=n*(1-(1-s)*t);switch(i%6){case 0:a=n,r=u,o=c;break;case 1:a=l,r=n,o=c;break;case 2:a=c,r=n,o=u;break;case 3:a=c,r=l,o=n;break;case 4:a=u,r=c,o=n;break;case 5:a=n,r=c,o=l}return[a,r,o]}function i(e,t,n,a){let[r,i,s]=function(e,t,n){let a=Math.max(e,t,n),r=0,o=a-Math.min(e,t,n);switch(a){case e:r=(t-n)/o+(t<n?6:0);break;case t:r=(n-e)/o+2;break;case n:r=(e-t)/o+4}return r/=6,[r,o/a,a]}(e,t,n);return r=(r+a)%1,o(r,i,s)}function s(e,t){const n=e.id,a=Object.assign(document.createElement("div"),{className:"panel-control",id:n+"-container"}),r=Object.assign(document.createElement("span"),{className:"input-tooltip",id:n+"-tooltip",textContent:e.value});return e.addEventListener("input",(()=>{r.textContent=e.value})),a.append(Object.assign(document.createElement("label"),{className:"control-label",id:n+"-label",textContent:t,htmlFor:n}),e,r),a}!function(){const t=document.createElement("canvas"),[o,c,l]=e(t,{alpha:!1,antialias:!1,depth:!1,powerPreference:"high-performance"}),u=n(o,"#version 300 es\n#define A  gl_FragCoord.xy\nprecision highp float;out vec4 o;uniform z{uvec2 B;vec2 C,D,E;vec3 F;float G,H;};void main(){float I=1./(exp(G)*D.y),J=C.y*I+C.x;vec2 K=(A+A-D)*I+E,L=K,M=K*K;int N=0,O=int(float(B.y-B.x)*pow(G/12.,2.))+int(B.x);while(N<O&&M.x<J){K=vec2(M.x-M.y+L.x,2.*K.x*K.y+L.y);M=K*K;++N;}o=(N<O)?vec4(.5+.5*cos((float(N)+1.-log2(log2(dot(K,K))/log2(J)))*H+F),1):vec4(0);}");let m=window.devicePixelRatio;const d=a(o,u.program,"z");d(0);const p=r(o,d.size);function f(e){v.value=e.toString(),M=Math.exp(-e),p(new Float32Array([e]),44)}function g(e,n){E=2/t.clientHeight,p(new Float32Array([e,n]),16)}p.bufferIndex(0),p(new Uint32Array([80,400])),p(new Float32Array([6,5e3,t.clientWidth*m,t.clientHeight*m,-.74,.18,3,4,5,0,.1]),8);const h=Object.assign(document.createElement("input"),{type:"range",id:"dpr",step:""+.25*m,min:""+.5*m,max:""+2*m,value:m.toString(),oninput:()=>{m=h.valueAsNumber;const[e,t]=l(m);c(e,t),g(e,t),requestAnimationFrame(P)}}),v=Object.assign(document.createElement("input"),{type:"range",id:"zoom",step:"1e-4",min:"0",max:"12",value:"0",oninput:()=>{I=v.valueAsNumber,f(I),requestAnimationFrame(P)}}),b=Object.assign(document.createElement("input"),{type:"range",id:"minIter",step:"1",min:"0",max:"400",value:"80",oninput:()=>{y.min=b.value.toString(),p(new Uint32Array([b.valueAsNumber]),0),requestAnimationFrame(P)}}),y=Object.assign(document.createElement("input"),{type:"range",id:"maxIter",step:"1",min:"80",max:"1000",value:"400",oninput:()=>{b.max=y.value.toString(),p(new Uint32Array([y.valueAsNumber]),4),requestAnimationFrame(P)}}),x=Object.assign(document.createElement("input"),{type:"range",id:"minEscape",step:"1e-4",min:"0",max:"12",value:"6",oninput:()=>{A.min=x.value.toString(),p(new Float32Array([x.valueAsNumber]),8),requestAnimationFrame(P)}}),A=Object.assign(document.createElement("input"),{type:"range",id:"maxEscape",step:"1e-4",min:"6",max:"1e4",value:"5e3",oninput:()=>{p(new Float32Array([A.valueAsNumber]),12),requestAnimationFrame(P)}}),F=Object.assign(document.createElement("input"),{type:"range",id:"hue",step:"1e-4",min:"0",max:"1",value:"0",oninput:()=>{p(new Float32Array([...i(3,4,5,F.valueAsNumber)]),32),requestAnimationFrame(P)}}),w=Object.assign(document.createElement("input"),{type:"range",id:"colorScale",step:"1e-4",min:"0",max:".5",value:".1",oninput:()=>{p(new Float32Array([w.valueAsNumber]),48),requestAnimationFrame(P)}});let E,O=[],I=0,N=-.74,j=.18,M=Math.exp(-I),B=0,C=e=>{O=O.filter((t=>t.pointerId!==e.pointerId)),O.length<2&&(B=0),t.releasePointerCapture(e.pointerId)};function P(){o.clear(o.COLOR_BUFFER_BIT),u()}Object.assign(t,{onpointerdown:e=>{O.push(e),1===O.length&&t.setPointerCapture(e.pointerId)},onpointermove:e=>{if(O[O.findIndex((t=>t.pointerId===e.pointerId))]=e,1===O.length)N-=e.movementX*M*E,j+=e.movementY*M*E,p(new Float32Array([N,j]),24);else if(2===O.length&&e.isPrimary){const[e,t]=O,n=Math.hypot(e.offsetX-t.offsetX,e.offsetY-t.offsetY);B&&f(I+=(n-B)*E*2),B=n}requestAnimationFrame(P)},onpointercancel:C,onpointerleave:C,onpointerout:C,onpointerup:C}),t.addEventListener("wheel",(e=>{e.preventDefault(),f(I-=e.deltaY*E),requestAnimationFrame(P)}),{passive:!1}),document.getElementById("canvas-content").append(function(e,t,n,...a){Object.assign(e,{className:"canvas-element",id:t});const r=Object.assign(document.createElement("div"),{className:"canvas-box",id:t+"-box"});r.append(e);const o=Object.assign(document.createElement("div"),{className:"canvas-container",id:t+"-container"});if(o.addEventListener("wheel",(e=>{e.preventDefault()}),{passive:!1}),a){const e=Object.assign(document.createElement("div"),{className:"canvas-panel",id:t+"-panel"}),n=Object.assign(document.createElement("button"),{className:"fullscreen-button",id:t+"-fullscreen",textContent:"Fullscreen",onclick:()=>{document.fullscreenElement?(document.exitFullscreen(),e.style.height="100%"):(r.requestFullscreen(),e.style.height="auto")}});let o=0;const i=()=>{o=0};Object.assign(r,{ondblclick:t=>{t.preventDefault(),e.style.display="none"===e.style.display?"flex":"none"},onpointerdown:()=>{3==++o&&(e.style.display="none"===e.style.display?"flex":"none")},onpointercancel:i,onpointerup:i,onpointerout:i,onpointerleave:i}),e.append(n,...a),r.append(e)}return o.append(Object.assign(document.createElement("span"),{className:"canvas-caption",id:t+"-caption",textContent:n}),r),o}(t,"mandelbrot","Mandelbrot Set Explorer",s(h,"Resolution"),s(v,"Zoom"),s(b,"Min Iterations"),s(y,"Max Iterations"),s(x,"Min Escape"),s(A,"Max Escape"),s(F,"Hue"),s(w,"Color Scale"))),window.addEventListener("resize",(()=>{const[e,t]=l(m);c(e,t),g(e,t),requestAnimationFrame(P)})),window.dispatchEvent(new Event("resize")),o.clearColor(0,0,0,1),requestAnimationFrame(P)}(),function(){const t=document.createElement("canvas"),[o,i,s]=e(t,{alpha:!1,antialias:!1,depth:!1,powerPreference:"high-performance"}),c=n(o,"#version 300 es\n#define A  gl_FragCoord.xy\nprecision highp float;out vec4 o;uniform z{vec2 B,C;highp float D,E;};void main(){vec2 F=A*C-1.;float G=length(F),H=sin(D),I=length(B),J=radians((H-B.x)*G*90.)-B.x,K=sin(J),L=cos(J),M=.5+.5*H;F=mix(F,F*cos(F)/(.5+.5*G),M+I);F*=mat2(L,K,-K,L)*(2.5+M+B.y);float N=D+abs(F.x*F.y)+sin(cos(D)*dot(F,F)),O=sin(3.*N+3.*I),P=1./fwidth(O),Q=smoothstep(.5,2.,G);o=vec4((.5+.5*cos(N+I+vec3(0,2,4))-Q)*(smoothstep(1.,-1.,(abs(O)-.5)*P)+smoothstep(3.,-3.,abs(O)))+smoothstep(1.,-1.,(O+.95)*P+Q),1.);}"),l=a(o,c.program,"z");l(0);const u=r(o,l.size);u.bufferIndex(0),u(new Float32Array([0,0,0,0,0,1]));let m,d,p=[],f=1,g=0;const h=e=>{p=p.filter((t=>t.pointerId!==e.pointerId)),t.releasePointerCapture(e.pointerId),p.length<2&&(g=0)};Object.assign(t,{className:"canvas-element fixed-canvas",id:"canvas-background",onpointerdown:e=>{p.push(e),1===p.length?t.setPointerCapture(e.pointerId):3===p.length&&(b.style.display="none"===b.style.display?"flex":"none")},onpointermove:e=>{if(p[p.findIndex((t=>t.pointerId===e.pointerId))]=e,1===p.length)u(new Float32Array([e.offsetX*m-1,-e.offsetY*d+1]));else if(2===p.length&&e.isPrimary){const[e,t]=p,n=Math.hypot(e.offsetX-t.offsetX,e.offsetY-t.offsetY);g&&u(new Float32Array([f=Math.max(f+(n-g)*d*2,.5)]),20),g=n}},onpointercancel:h,onpointerleave:h,onpointerout:h,onpointerup:h}),t.addEventListener("wheel",(e=>{e.preventDefault(),u(new Float32Array([f=Math.max(f-e.deltaY*f*d*.5,.5)]),20)}),{passive:!1});const v=Object.assign(document.createElement("div"),{className:"canvas-box",id:"background-box",ondblclick:()=>{b.style.display="none"===b.style.display?"flex":"none"}}),b=Object.assign(document.createElement("button"),{className:"fullscreen-button",id:"background-fullscreen",textContent:"Fullscreen",onclick:()=>{document.fullscreenElement?document.exitFullscreen():v.requestFullscreen()}});v.append(t,b),document.body.prepend(v),window.addEventListener("resize",(()=>{const[e,n]=s();i(e,n),m=2/t.clientWidth,d=2/t.clientHeight,u(new Float32Array([2/e,2/n]),8)})),window.dispatchEvent(new Event("resize")),o.clearColor(0,0,0,1),requestAnimationFrame((function e(t){o.clear(o.COLOR_BUFFER_BIT),u(new Float32Array([5e-5*t]),16),c(),requestAnimationFrame(e)}))}()})(),e.p,e.p,e.p})();